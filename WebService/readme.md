# Веб-сервис

**Веб-сервис** – транслирует запросы от Мобильного и Десктопного интерфейсов пользователя, в запросы к базе данных. Результат, полученный от запроса, передает обратно Мобильному и Десктопному интерфейсу.

## Проектное решение для веб-сервиса REST

1. Извлечение сайта по указанному идентификатору:
* **url**: /site/{id}
* **HTTP метод**: GET
* **Входные параметры**: id сайта
* **Выходные параметры**: {"id":id, "name":"имя"}

2. Извлечение всех сайтов:
* **url**: /site/
* **HTTP метод**: GET
* **Входные параметры**: отсутствуют
* **Выходные параметры**: [{"id":id, "name":"имя"}]

3. Создание нового сайта, указанного в json:
* **url**: /site/
* **HTTP метод**: POST
* **Входные параметры**: {"name":"имя"}
* **Выходные параметры**: отсутствуют

4. Обновление существующего сайта, указанного в json:
* **url**: /site/
* **HTTP метод**: PUT
* **Входные параметры**: {"id":id, "name":"имя"}
* **Выходные параметры**: отсутствуют

5. Удаление существующего сайта, указанного в json:
* **url**: /site/
* **HTTP метод**: DELETE
* **Входные параметры**: {"id":id, "name":"имя"}
* **Выходные параметры**: отсутствуют

6. Извлечение личности по указанному идентификатору:
* **url**: /person/{id}
* **HTTP метод**: GET
* **Входные параметры**: id личности
* **Выходные параметры**: {"id":id, "name":"имя"}

7. Извлечение всех личностей:
* **url**: /person/
* **HTTP метод**: GET
* **Входные параметры**: отсутствуют
* **Выходные параметры**: [{"id":id, "name":"имя"}]

8. Создание новой личности, указанной в json:
* **url**: /person/
* **HTTP метод**: POST
* **Входные параметры**: {"name":"имя"}
* **Выходные параметры**: отсутствуют

9. Обновление существующей личности, указанной в json:
* **url**: /person/
* **HTTP метод**: PUT
* **Входные параметры**: {"id":id, "name":"имя"}
* **Выходные параметры**: отсутствуют

10. Удаление существующей личности, указанной в json:
* **url**: /person/
* **HTTP метод**: DELETE
* **Входные параметры**: {"id":id, "name":"имя"}
* **Выходные параметры**: отсутствуют

11. Извлечение всех ключевых слов по идентификатору личности:
* **url**: /keyword/{personId}
* **HTTP метод**: GET
* **Входные параметры**: id личности
* **Выходные параметры**: [{"id":id, "name":"имя"}]

12. Создание нового ключевого слова, указанного в json:
* **url**: /keyword/
* **HTTP метод**: POST
* **Входные параметры**: {"name": "имя","person": {"id": id}}
* **Выходные параметры**: отсутствуют

13. Обновление существующего ключевого слова, указанного в json:
* **url**: /keyword/
* **HTTP метод**: PUT
* **Входные параметры**: {"name": "имя","person": {"id": id}}
* **Выходные параметры**: отсутствуют

14. Удаление существующего ключевого слова, указанного в json:
* **url**: /keyword/
* **HTTP метод**: DELETE
* **Входные параметры**: {"name": "имя","person": {"id": id}}
* **Выходные параметры**: отсутствуют

15. Извлечение общей статистики по указанному id личности:
* **url**: /stat/total/{siteId}
* **HTTP метод**: GET
* **Входные параметры**: id сайта
* **Выходные параметры**: [{"name":имя личности, "rank":"ранк"}]

16. Извлечение ежедневной статистики по указанному id сайта, да указанной id личности, в диапазоне дат (startDate-finishDate):
* **url**: /stat/daily?personId={personId}&siteId={siteId}&startDate={Milliseconds}&finishDate={Milliseconds}
* **HTTP метод**: GET
* **Входные параметры**: Id личности, Id сайта, дата начала диапазона, дата конца диапазона. Даты передаются числом в миллисекундах
* **Выходные параметры**: [{"date":дата, "rank":"ранк"}]

Чтобы распознать ответ сервера используем стандартные статусы ответов HTTP, например:
* 200 OK («хорошо») - Запрос выполнен успешно. Информация, возвращаемая с ответом зависит от метода, используемого в запросе.
* 201 Created («создано») - Запрос был выполнен, и, в результате, создан новый ресурс.
* 404 Not Found («не найдено») - Сервер не нашел по указанному URI никаких ресурсов.
* 500 Internal Server Error («внутренняя ошибка сервера») - Сервер столкнулся с неожиданными условиями, которые не позволили ему обработать запрос. Любой метод при ошибке сервера.
